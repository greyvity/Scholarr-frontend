import React from "react";
import { AnimatePresence, motion } from "framer-motion";

const Loader = ({ isLoading }) => {
  return (
    <AnimatePresence>
      {isLoading && (
        <motion.div
          key="loading"
          initial={{ opacity: 0, x: -100 }}
          animate={{
            opacity: 1,
            x: 0,
            // rotate: [0, 45, 90, 135, 180, 215, 270, 335, 360],
            // transition: { rotate: { flip: Infinity, duration: 1 } },
          }}
          exit={{ opacity: 0, x: -100 }}
          style={{
            // height: "100vh",
            // backgroundColor: "rgba(120,12,34,0.5)",
            position: "fixed",
            bottom: 25,
            left: 50,
          }}
          // className="backdrop"
        >
          <motion.svg
            width="35"
            height="35"
            viewBox="0 0 96 96"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <mask id="path-1-inside-1" fill="white">
              <path d="M87.3237 48C92.1155 48 96.0795 44.0843 95.218 39.3706C93.7617 31.4025 90.3027 23.8832 85.1045 17.5491C78.0595 8.9648 68.256 3.0888 57.3643 0.922307C46.4727 -1.24418 35.1667 0.432893 25.373 5.66778C15.5792 10.9027 7.9035 19.3715 3.65378 29.6312C-0.595937 39.8909 -1.15676 51.3068 2.06686 61.9337C5.29049 72.5605 12.0991 81.7409 21.3326 87.9105C30.5661 94.0802 41.6532 96.8574 52.7048 95.7689C60.8593 94.9657 68.6222 92.0946 75.2863 87.4901C79.2285 84.7662 79.1944 79.1944 75.8061 75.8061V75.8061C72.4178 72.4178 66.9547 72.555 62.7548 74.8619C59.1496 76.8422 55.1563 78.0909 51.004 78.4999C43.9477 79.1949 36.8687 77.4217 30.9732 73.4824C25.0777 69.5432 20.7305 63.6816 18.6722 56.8965C16.614 50.1113 16.972 42.8224 19.6854 36.2717C22.3988 29.721 27.2997 24.3138 33.5529 20.9713C39.8061 17.6289 47.0248 16.5581 53.979 17.9414C60.9332 19.3247 67.1927 23.0765 71.6908 28.5575C74.3378 31.7828 76.2785 35.4895 77.4275 39.439C78.7661 44.04 82.532 48 87.3237 48V48Z" />
            </mask>
            <motion.path
              initial={{ opacity: 0, x: -100, rotate: 0 }}
              animate={{
                opacity: 1,
                x: 0,
                rotate: [0, 45, 90, 135, 180, 215, 270, 335, 360],
                transition: { rotate: { loop: Infinity, duration: 1 } },
              }}
              d="M87.3237 48C92.1155 48 96.0795 44.0843 95.218 39.3706C93.7617 31.4025 90.3027 23.8832 85.1045 17.5491C78.0595 8.9648 68.256 3.0888 57.3643 0.922307C46.4727 -1.24418 35.1667 0.432893 25.373 5.66778C15.5792 10.9027 7.9035 19.3715 3.65378 29.6312C-0.595937 39.8909 -1.15676 51.3068 2.06686 61.9337C5.29049 72.5605 12.0991 81.7409 21.3326 87.9105C30.5661 94.0802 41.6532 96.8574 52.7048 95.7689C60.8593 94.9657 68.6222 92.0946 75.2863 87.4901C79.2285 84.7662 79.1944 79.1944 75.8061 75.8061V75.8061C72.4178 72.4178 66.9547 72.555 62.7548 74.8619C59.1496 76.8422 55.1563 78.0909 51.004 78.4999C43.9477 79.1949 36.8687 77.4217 30.9732 73.4824C25.0777 69.5432 20.7305 63.6816 18.6722 56.8965C16.614 50.1113 16.972 42.8224 19.6854 36.2717C22.3988 29.721 27.2997 24.3138 33.5529 20.9713C39.8061 17.6289 47.0248 16.5581 53.979 17.9414C60.9332 19.3247 67.1927 23.0765 71.6908 28.5575C74.3378 31.7828 76.2785 35.4895 77.4275 39.439C78.7661 44.04 82.532 48 87.3237 48V48Z"
              fill="black"
              stroke="black"
              stroke-width="14"
              mask="url(#path-1-inside-1)"
            />
          </motion.svg>
        </motion.div>
      )}
    </AnimatePresence>
  );
};

export default Loader;
